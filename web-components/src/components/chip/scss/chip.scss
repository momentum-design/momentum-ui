:focus {
  outline: none;
}

.md-chip {
  @include badge-size;
  @include chip-base();

  gap: $chip-inner-content-gap;

  &--small {
    @include badge-size($padding: rem-calc(3 12));
    height: rem-calc(24);
    min-width: auto;
  }

  &:focus {
    @include focus-boxshadow(rem-calc(1), var(--md-default-focus-outline-color, $md-blue-70));
  }

  &:hover {
    background-color: var(--md-tertiary-bg-color, $md-gray-10);
  }

  &:active,
  &[aria-selected="true"] {
    background-color: var(--button-secondary-active-normal-bg-color, var(--md-quaternary-bg-color, $md-gray-20));
  }

  &--blue,
  &--cobalt {
    @include color-chip(
      var(--badge-blue-bg-color),
      false,
      var(--badge-blue-text-color),
      var(--badge-blue-bg-color),
      var(--badge-blue-text-color)
    );

    &:hover {
      @include color-chip(
        var(--badge-blue-hover-bg-color),
        false,
        var(--badge-blue-text-color),
        var(--badge-blue-hover-bg-color),
        var(--badge-blue-text-color)
      );
    }

    &:active {
      @include color-chip(
        var(--badge-blue-active-bg-color),
        false,
        var(--badge-blue-text-color),
        var(--badge-blue-active-bg-color),
        var(--badge-blue-text-color)
      );
    }
  }

  &--gray {
    @include color-chip(
      var(--badge-gray-bg-color),
      false,
      var(--badge-gray-text-color),
      var(--badge-gray-bg-color),
      var(--badge-gray-text-color)
    );

    &:hover {
      @include color-chip(
        var(--badge-gray-hover-bg-color),
        false,
        var(--badge-gray-text-color),
        var(--badge-gray-hover-bg-color),
        var(--badge-gray-text-color)
      );
    }

    &:active {
      @include color-chip(
        var(--badge-gray-active-bg-color),
        false,
        var(--badge-gray-text-color),
        var(--badge-gray-active-bg-color),
        var(--badge-gray-text-color)
      );
    }
  }

  &--mint {
    @include color-chip(
      var(--badge-mint-bg-color),
      false,
      var(--badge-mint-text-color),
      var(--badge-mint-bg-color),
      var(--badge-mint-text-color)
    );

    &:hover {
      @include color-chip(
        var(--badge-mint-hover-bg-color),
        false,
        var(--badge-mint-text-color),
        var(--badge-mint-hover-bg-color),
        var(--badge-mint-text-color)
      );
    }

    &:active {
      @include color-chip(
        var(--badge-mint-active-bg-color),
        false,
        var(--badge-mint-text-color),
        var(--badge-mint-active-bg-color),
        var(--badge-mint-text-color)
      );
    }
  }

  &--darkmint {
    @include color-chip(
      var(--badge-darkmint-bg-color),
      false,
      var(--badge-darkmint-text-color),
      var(--badge-darkmint-bg-color),
      var(--badge-darkmint-text-color)
    );
  }

  &--green {
    @include color-chip(
      var(--badge-green-bg-color),
      false,
      var(--badge-green-text-color),
      var(--badge-green-bg-color),
      var(--badge-green-text-color)
    );
  }

  &--yellow {
    @include color-chip(
      var(--badge-yellow-bg-color),
      false,
      var(--badge-yellow-text-color),
      var(--badge-yellow-bg-color),
      var(--badge-yellow-text-color)
    );
  }

  &--red {
    @include color-chip(
      var(--badge-red-bg-color),
      false,
      var(--badge-red-text-color),
      var(--badge-red-bg-color),
      var(--badge-red-text-color)
    );
  }

  &--orange {
    @include color-chip(
      var(--badge-orange-bg-color),
      false,
      var(--badge-orange-text-color),
      var(--badge-orange-bg-color),
      var(--badge-orange-text-color)
    );

    &:hover {
      @include color-chip(
        var(--badge-orange-hover-bg-color),
        false,
        var(--badge-orange-text-color),
        var(--badge-orange-hover-bg-color),
        var(--badge-orange-text-color)
      );
    }

    &:active {
      @include color-chip(
        var(--badge-orange-active-bg-color),
        false,
        var(--badge-orange-text-color),
        var(--badge-orange-active-bg-color),
        var(--badge-orange-text-color)
      );
    }
  }

  &--gold {
    @include color-chip(
      var(--badge-gold-bg-color),
      false,
      var(--badge-gold-text-color),
      var(--badge-gold-bg-color),
      var(--badge-gold-text-color)
    );

    &:hover {
      @include color-chip(
        var(--badge-gold-hover-bg-color),
        false,
        var(--badge-gold-text-color),
        var(--badge-gold-hover-bg-color),
        var(--badge-gold-text-color)
      );
    }

    &:active {
      @include color-chip(
        var(--badge-gold-active-bg-color),
        false,
        var(--badge-gold-text-color),
        var(--badge-gold-active-bg-color),
        var(--badge-gold-text-color)
      );
    }
  }

  &--lime {
    @include color-chip(
      var(--badge-lime-bg-color),
      false,
      var(--badge-lime-text-color),
      var(--badge-lime-bg-color),
      var(--badge-lime-text-color)
    );

    &:hover {
      @include color-chip(
        var(--badge-lime-hover-bg-color),
        false,
        var(--badge-lime-text-color),
        var(--badge-lime-hover-bg-color),
        var(--badge-lime-text-color)
      );
    }

    &:active {
      @include color-chip(
        var(--badge-lime-active-bg-color),
        false,
        var(--badge-lime-text-color),
        var(--badge-lime-active-bg-color),
        var(--badge-lime-text-color)
      );
    }
  }

  &--pink {
    @include color-chip(
      var(--badge-pink-bg-color),
      false,
      var(--badge-pink-text-color),
      var(--badge-pink-bg-color),
      var(--badge-pink-text-color)
    );

    &:hover {
      @include color-chip(
        var(--badge-pink-hover-bg-color),
        false,
        var(--badge-pink-text-color),
        var(--badge-pink-hover-bg-color),
        var(--badge-pink-text-color)
      );
    }

    &:active {
      @include color-chip(
        var(--badge-pink-active-bg-color),
        false,
        var(--badge-pink-text-color),
        var(--badge-pink-active-bg-color),
        var(--badge-pink-text-color)
      );
    }
  }

  &--purple {
    @include color-chip(
      var(--badge-purple-bg-color),
      false,
      var(--badge-purple-text-color),
      var(--badge-purple-bg-color),
      var(--badge-purple-text-color)
    );
  }

  &--violet {
    @include color-chip(
      var(--badge-violet-bg-color),
      false,
      var(--badge-violet-text-color),
      var(--badge-violet-bg-color),
      var(--badge-violet-text-color)
    );

    &:hover {
      @include color-chip(
        var(--badge-violet-hover-bg-color),
        false,
        var(--badge-violet-text-color),
        var(--badge-violet-hover-bg-color),
        var(--badge-violet-text-color)
      );
    }

    &:active {
      @include color-chip(
        var(--badge-violet-active-bg-color),
        false,
        var(--badge-violet-text-color),
        var(--badge-violet-active-bg-color),
        var(--badge-violet-text-color)
      );
    }
  }

  &--cyan {
    @include color-chip(
      var(--badge-cyan-bg-color),
      false,
      var(--badge-cyan-text-color),
      var(--badge-cyan-bg-color),
      var(--badge-cyan-text-color)
    );
  }

  &--positive {
    @include chip-sentiment-style(
      var(--badge-positive-bg-color),
      var(--badge-positive-text-color),
      var(--badge-positive-border-color),
      var(--badge-positive-hover-bg-color),
      var(--badge-positive-active-bg-color)
    );
  }
  
  &--negative {
    @include chip-sentiment-style(
      var(--badge-negative-bg-color),
      var(--badge-negative-text-color),
      var(--badge-negative-border-color),
      var(--badge-negative-hover-bg-color),
      var(--badge-negative-active-bg-color)
    );
  }
  
  &--neutral {
    @include chip-sentiment-style(
      var(--badge-neutral-bg-color),
      var(--badge-neutral-text-color),
      var(--badge-neutral-border-color),
      var(--badge-neutral-hover-bg-color),
      var(--badge-neutral-active-bg-color)
    );
  }

  &--status-negative {
    @include chip-status-style(
      var(--badge-status-negative-bg-color),
      var(--badge-status-negative-text-color)
    );
  }
  
  &--status-positive {
    @include chip-status-style(
      var(--badge-status-positive-bg-color),
      var(--badge-status-positive-text-color)
    );
  }
  
  &--status-warning {
    @include chip-status-style(
      var(--badge-status-warning-bg-color),
      var(--badge-status-warning-text-color)
    );
  }
  
  &--status-accent {
    @include chip-status-style(
      var(--badge-status-accent-bg-color),
      var(--badge-status-accent-text-color)
    );
  }
  
  &--status-orange {
    @include chip-status-style(
      var(--badge-status-orange-bg-color),
      var(--badge-status-orange-text-color)
    );
  }

  &--confidence-default {
    @include chip-confidence-style(
      var(--badge-confidence-default-bg-color),
      var(--badge-confidence-default-text-color),
      var(--badge-confidence-default-border-color),
      var(--badge-confidence-default-hover-bg-color),
      var(--badge-confidence-default-active-bg-color)
    );
  }

  &--confidence-violet {
    @include chip-confidence-style(
      var(--badge-confidence-violet-bg-color),
      var(--badge-confidence-violet-text-color),
      var(--badge-confidence-violet-border-color),
      var(--badge-confidence-violet-hover-bg-color),
      var(--badge-confidence-violet-active-bg-color)
    );
  }

  &--confidence-slate {
    @include chip-confidence-style(
      var(--badge-confidence-slate-bg-color),
      var(--badge-confidence-slate-text-color),
      var(--badge-confidence-slate-border-color),
      var(--badge-confidence-slate-hover-bg-color),
      var(--badge-confidence-slate-active-bg-color)
    );
  }

  &--confidence-gold {
    @include chip-confidence-style(
      var(--badge-confidence-gold-bg-color),
      var(--badge-confidence-gold-text-color),
      var(--badge-confidence-gold-border-color),
      var(--badge-confidence-gold-hover-bg-color),
      var(--badge-confidence-gold-active-bg-color)
    );
  }

  &--confidence-mint {
    @include chip-confidence-style(
      var(--badge-confidence-mint-bg-color),
      var(--badge-confidence-mint-text-color),
      var(--badge-confidence-mint-border-color),
      var(--badge-confidence-mint-hover-bg-color),
      var(--badge-confidence-mint-active-bg-color)
    );
  }

  &--confidence-pink {
    @include chip-confidence-style(
      var(--badge-confidence-pink-bg-color),
      var(--badge-confidence-pink-text-color),
      var(--badge-confidence-pink-border-color),
      var(--badge-confidence-pink-hover-bg-color),
      var(--badge-confidence-pink-active-bg-color)
    );
  }

  &--confidence-cobalt {
    @include chip-confidence-style(
      var(--badge-confidence-cobalt-bg-color),
      var(--badge-confidence-cobalt-text-color),
      var(--badge-confidence-cobalt-border-color),
      var(--badge-confidence-cobalt-hover-bg-color),
      var(--badge-confidence-cobalt-active-bg-color)
    );
  }

  &--confidence-lime {
    @include chip-confidence-style(
      var(--badge-confidence-lime-bg-color),
      var(--badge-confidence-lime-text-color),
      var(--badge-confidence-lime-border-color),
      var(--badge-confidence-lime-hover-bg-color),
      var(--badge-confidence-lime-active-bg-color)
    );
  }

  .md-chip--clear {
    display: flow-root;

    @include modal-close-button(
      $size: rem-calc(14),
      $font-size: rem-calc(14),
      $top-offset: rem-calc(12),
      $right-offset: rem-calc(12)
    );
  }

  .md-chip--loading {
    left: 0;
    overflow: hidden;
    position: absolute;
    top: rem-calc(-2);
    width: 100%;
  }

  .md-chip--textcontent {
    max-width: $chip-text-max-width;
  }

  md-icon {
    display: flex;
  }

  &.md-chip--disabled {
    color: var(--md-disabled-text-color, $md-gray-40);
    cursor: default;

    // Declarations before nested rules
    @include chip-base();

    md-icon {
      color: var(--md-disabled-text-color, $md-gray-40);
    }
  }
}

::slotted(*) {
  line-height: normal;
}

@media (forced-colors: active) {
  .md-chip {
    outline: 1px solid CanvasText;

    &:focus,
    &:hover {
      box-shadow: none;
      outline: 2px solid Highlight;
    }
  }

  .md-chip.md-chip--disabled {
    color: GrayText;
    outline: 1px solid GrayText;

    &:focus,
    &:hover {
      outline: 2px solid Highlight;
    }

    md-icon {
      color: GrayText;
    }
  }
}
